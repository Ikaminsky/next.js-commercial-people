{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Work\\\\Andersen\\\\Test\\\\frontend_test_ik-master\\\\src\\\\components\\\\Library\\\\LibraryTable.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useState } from 'react';\nimport { useStore } from 'react-redux';\nimport { tableCells } from \"./config\";\nimport Tooltip from '@material-ui/core/Tooltip';\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\nimport { orderBy } from 'lodash';\n\nvar LibraryTable = function LibraryTable() {\n  _s();\n\n  var _store$getState$libra2;\n\n  var store = useStore();\n\n  var _useState = useState([]),\n      libraryData = _useState[0],\n      setLibraryData = _useState[1];\n\n  var _useState2 = useState({\n    field: 'title',\n    order: 'asc'\n  }),\n      sortParameters = _useState2[0],\n      setSortParameters = _useState2[1];\n\n  useEffect(function () {\n    var _store$getState$libra;\n\n    console.log('store', store.getState().library);\n    setLibraryData(orderBy((_store$getState$libra = store.getState().library) === null || _store$getState$libra === void 0 ? void 0 : _store$getState$libra.fullData, sortParameters.field, sortParameters.order));\n  }, [(_store$getState$libra2 = store.getState().library) === null || _store$getState$libra2 === void 0 ? void 0 : _store$getState$libra2.fullData, sortParameters]);\n\n  var makeTableHeader = function makeTableHeader() {\n    return __jsx(\"div\", {\n      style: {\n        width: '100%',\n        borderBottom: '1px solid #e0e0e0',\n        padding: '8px 0'\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 23,\n        columnNumber: 5\n      }\n    }, tableCells.map(function (item, headerCellIndex) {\n      return __jsx(\"div\", {\n        style: _objectSpread(_objectSpread({}, item.cellStyle), {}, {\n          cursor: item.isSortable ? 'pointer' : 'auto'\n        }),\n        key: \"library-table-header-\".concat(headerCellIndex),\n        onClick: function onClick(e) {\n          e.stopPropagation();\n          item.isSortable && setSortParameters({\n            field: item.title,\n            order: sortParameters.order === 'asc' ? 'desc' : 'asc'\n          });\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 25,\n          columnNumber: 9\n        }\n      }, item.headerTitle, __jsx(\"span\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 11\n        }\n      }, sortParameters.field === item.title ? sortParameters.order === 'asc' ? __jsx(ArrowUpwardIcon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 48\n        }\n      }) : __jsx(ArrowDownwardIcon, {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 70\n        }\n      }) : ''));\n    }));\n  };\n\n  var makeRowCellForObjectValue = function makeRowCellForObjectValue(objectItem, rowIndex) {\n    return objectItem.value ? objectItem.value : __jsx(React.Fragment, null, objectItem.map(function (item, index) {\n      return __jsx(React.Fragment, {\n        key: \"library-table-row-tooltip-cell-\".concat(rowIndex, \"-4-\").concat(index),\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 7\n        }\n      }, __jsx(Tooltip, {\n        title: item.email,\n        interactive: true,\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }\n      }, __jsx(\"span\", {\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }\n      }, item.firstname, \" \", item.lastname)));\n    }));\n  };\n\n  var makeTableRows = function makeTableRows() {\n    return __jsx(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, libraryData === null || libraryData === void 0 ? void 0 : libraryData.map(function (item, rowIndex) {\n      return __jsx(\"div\", {\n        key: \"library-table-row-\".concat(rowIndex),\n        style: {\n          width: '100%',\n          borderBottom: '1px solid #e0e0e0 ',\n          display: 'flex',\n          alignItems: 'center',\n          padding: '8px 0'\n        },\n        __self: _this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }\n      }, tableCells.map(function (cell, cellIndex) {\n        return __jsx(\"div\", {\n          key: \"library-table-row-cell-\".concat(rowIndex, \"-\").concat(cellIndex),\n          style: cell.cellStyle,\n          __self: _this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }\n        }, typeof item[cell.title] !== 'object' ? item[cell.title] : makeRowCellForObjectValue(item[cell.title], rowIndex));\n      }));\n    }));\n  };\n\n  return __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, makeTableHeader(), makeTableRows());\n};\n\n_s(LibraryTable, \"odV8VlKf2JRxBbTIXeihcUggxu0=\", false, function () {\n  return [useStore];\n});\n\n_c = LibraryTable;\nexport default LibraryTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"LibraryTable\");","map":{"version":3,"sources":["D:/Work/Andersen/Test/frontend_test_ik-master/src/components/Library/LibraryTable.js"],"names":["React","useEffect","useState","useStore","tableCells","Tooltip","ArrowUpwardIcon","ArrowDownwardIcon","orderBy","LibraryTable","store","libraryData","setLibraryData","field","order","sortParameters","setSortParameters","console","log","getState","library","fullData","makeTableHeader","width","borderBottom","padding","map","item","headerCellIndex","cellStyle","cursor","isSortable","e","stopPropagation","title","headerTitle","makeRowCellForObjectValue","objectItem","rowIndex","value","index","email","firstname","lastname","makeTableRows","display","alignItems","cell","cellIndex"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useStore } from 'react-redux';\r\nimport { tableCells } from './config';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward';\r\nimport ArrowDownwardIcon from '@material-ui/icons/ArrowDownward';\r\nimport { orderBy } from 'lodash';\r\n\r\n\r\nconst LibraryTable = () => {\r\n\r\n  const store = useStore();\r\n  const [libraryData, setLibraryData] = useState([]);\r\n  const [sortParameters, setSortParameters] = useState({field: 'title', order: 'asc'});\r\n\r\n  useEffect(() => {\r\n    console.log('store', store.getState().library);\r\n\r\n    setLibraryData(orderBy(store.getState().library?.fullData, sortParameters.field, sortParameters.order));\r\n  }, [store.getState().library?.fullData, sortParameters]);\r\n\r\n  const makeTableHeader = () => (\r\n    <div style={{width: '100%', borderBottom: '1px solid #e0e0e0', padding: '8px 0'}}>\r\n      {tableCells.map((item, headerCellIndex) => (\r\n        <div\r\n          style={{...item.cellStyle, cursor: item.isSortable? 'pointer' : 'auto'}}\r\n          key={`library-table-header-${headerCellIndex}`}\r\n          onClick={(e) => {\r\n            e.stopPropagation();\r\n            item.isSortable && setSortParameters({field: item.title, order: sortParameters.order === 'asc'? 'desc' : 'asc'});\r\n          }}\r\n        >\r\n          {item.headerTitle}\r\n          <span>\r\n            {sortParameters.field === item.title ? (\r\n              sortParameters.order === 'asc' ? <ArrowUpwardIcon /> : <ArrowDownwardIcon/>\r\n            ) : ''}\r\n          </span>\r\n        </div>\r\n      ))}\r\n    </div>);\r\n\r\n  const makeRowCellForObjectValue = (objectItem, rowIndex) => (\r\n    objectItem.value ? objectItem.value:\r\n      (<>{objectItem.map((item, index) => (\r\n      <React.Fragment key={`library-table-row-tooltip-cell-${rowIndex}-4-${index}`}>\r\n        <Tooltip title={item.email} interactive={true}>\r\n          <span>{item.firstname} {item.lastname}</span>\r\n        </Tooltip>\r\n      </React.Fragment>\r\n    ))}</>)\r\n  );\r\n\r\n  const makeTableRows = () => {\r\n    return (\r\n      <div>\r\n        {libraryData?.map((item, rowIndex) => {\r\n          return (\r\n            <div\r\n              key={`library-table-row-${rowIndex}`}\r\n              style={{width: '100%', borderBottom: '1px solid #e0e0e0 ', display: 'flex', alignItems: 'center', padding: '8px 0'}}\r\n            >\r\n              {tableCells.map((cell, cellIndex) => (\r\n                <div\r\n                  key={`library-table-row-cell-${rowIndex}-${cellIndex}`}\r\n                  style={cell.cellStyle}\r\n                >\r\n                  {typeof item[cell.title] !== 'object' ? item[cell.title] : makeRowCellForObjectValue(item[cell.title], rowIndex)}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>)\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {makeTableHeader()}\r\n      {makeTableRows()}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LibraryTable;"]},"metadata":{},"sourceType":"module"}