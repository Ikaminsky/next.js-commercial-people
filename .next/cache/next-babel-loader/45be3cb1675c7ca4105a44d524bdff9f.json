{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"D:\\\\Work\\\\Andersen\\\\Test\\\\frontend_test_ik-master\\\\src\\\\components\\\\Library\\\\ExportDataDialog.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Switch, FormControlLabel, Button } from '@material-ui/core';\nimport { useSelector } from 'react-redux';\nimport { CSVLink } from 'react-csv';\nimport { BOOKS, MAGAZINES } from \"./config\";\n\nvar ExportDataDialog = function ExportDataDialog(_ref) {\n  _s();\n\n  var _ref$openState = _ref.openState,\n      openState = _ref$openState === void 0 ? false : _ref$openState,\n      onCloseCallback = _ref.onCloseCallback;\n  var ADDED_DATA_ONLY = 'ADDED DATA ONLY';\n  var FULL_DATA = 'FULL DATA';\n  var libraryData = useSelector(function (state) {\n    return state.library;\n  });\n\n  var _useState = useState(BOOKS),\n      exportDataType = _useState[0],\n      setExportDataType = _useState[1];\n\n  var _useState2 = useState(false),\n      isFullDataExport = _useState2[0],\n      setIsFullDataExport = _useState2[1];\n\n  var getDataForExport = function getDataForExport() {\n    var booksKey = isFullDataExport ? 'books' : 'newBooks';\n    var magazinesKey = isFullDataExport ? 'magazines' : 'newMagazines';\n    return exportDataType === BOOKS ? libraryData[booksKey] : libraryData[magazinesKey];\n  };\n\n  return __jsx(Dialog, {\n    open: openState,\n    onClose: onCloseCallback,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 23,\n      columnNumber: 5\n    }\n  }, __jsx(DialogTitle, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 7\n    }\n  }, \"Export\"), __jsx(DialogContent, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 7\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }\n  }, __jsx(FormControlLabel, {\n    control: __jsx(Switch, {\n      onChange: function onChange() {\n        var type = exportDataType === BOOKS ? MAGAZINES : BOOKS;\n        setExportDataType(type);\n      },\n      color: \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 15\n      }\n    }),\n    label: exportDataType,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 11\n    }\n  }), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 11\n    }\n  }), __jsx(FormControlLabel, {\n    control: __jsx(Switch, {\n      onChange: function onChange() {\n        setIsFullDataExport(!isFullDataExport);\n      },\n      color: \"primary\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 15\n      }\n    }),\n    label: isFullDataExport ? FULL_DATA : ADDED_DATA_ONLY,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 11\n    }\n  }))), __jsx(DialogActions, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }, __jsx(Button, {\n    onClick: onCloseCallback,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, \"Cancel\"), __jsx(CSVLink, {\n    data: getDataForExport() || [],\n    filename: \"new\".concat(exportDataType, \".csv\"),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }\n  }, __jsx(Button, {\n    onClick: function onClick() {},\n    color: 'primary',\n    variant: 'contained',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 11\n    }\n  }, \"DOWNLOAD\"))));\n};\n\n_s(ExportDataDialog, \"UMyEhu6iEKyisC8AVGsM3uft7SI=\", false, function () {\n  return [useSelector];\n});\n\n_c = ExportDataDialog;\nexport default ExportDataDialog;\n\nvar _c;\n\n$RefreshReg$(_c, \"ExportDataDialog\");","map":{"version":3,"sources":["D:/Work/Andersen/Test/frontend_test_ik-master/src/components/Library/ExportDataDialog.js"],"names":["React","useState","Dialog","DialogTitle","DialogContent","DialogActions","Switch","FormControlLabel","Button","useSelector","CSVLink","BOOKS","MAGAZINES","ExportDataDialog","openState","onCloseCallback","ADDED_DATA_ONLY","FULL_DATA","libraryData","state","library","exportDataType","setExportDataType","isFullDataExport","setIsFullDataExport","getDataForExport","booksKey","magazinesKey","type"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Dialog, DialogTitle, DialogContent, DialogActions, Switch, FormControlLabel, Button } from '@material-ui/core'\r\nimport { useSelector } from 'react-redux'\r\nimport { CSVLink } from 'react-csv'\r\nimport { BOOKS, MAGAZINES } from './config'\r\n\r\nconst ExportDataDialog = ({ openState = false, onCloseCallback }) => {\r\n\r\n  const ADDED_DATA_ONLY = 'ADDED DATA ONLY'\r\n  const FULL_DATA = 'FULL DATA'\r\n\r\n  const libraryData = useSelector(state => (state.library))\r\n  const [exportDataType, setExportDataType] = useState(BOOKS)\r\n  const [isFullDataExport, setIsFullDataExport] = useState(false)\r\n\r\n  const getDataForExport = () => {\r\n    const booksKey = isFullDataExport ? 'books' : 'newBooks'\r\n    const magazinesKey = isFullDataExport ? 'magazines' : 'newMagazines'\r\n    return exportDataType === BOOKS ? libraryData[booksKey] : libraryData[magazinesKey]\r\n  }\r\n\r\n  return (\r\n    <Dialog open={openState} onClose={onCloseCallback}>\r\n      <DialogTitle>Export</DialogTitle>\r\n      <DialogContent>\r\n        <div>\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                onChange={() => {\r\n                  const type = exportDataType === BOOKS ? MAGAZINES : BOOKS\r\n                  setExportDataType(type)\r\n                }}\r\n                color='primary'\r\n              />}\r\n            label={exportDataType}\r\n          />\r\n          <br />\r\n          <FormControlLabel\r\n            control={\r\n              <Switch\r\n                onChange={() => {\r\n                  setIsFullDataExport(!isFullDataExport)\r\n                }}\r\n                color='primary'\r\n              />}\r\n            label={isFullDataExport ? FULL_DATA : ADDED_DATA_ONLY}\r\n          />\r\n        </div>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          onClick={onCloseCallback}\r\n        >\r\n          Cancel\r\n        </Button>\r\n        <CSVLink\r\n          data={getDataForExport() || []}\r\n          filename={`new${exportDataType}.csv`}\r\n        >\r\n          <Button\r\n            onClick={() => {}}\r\n            color={'primary'}\r\n            variant={'contained'}\r\n          >\r\n            DOWNLOAD\r\n          </Button>\r\n        </CSVLink>\r\n      </DialogActions>\r\n    </Dialog>\r\n  )\r\n}\r\n\r\nexport default ExportDataDialog\r\n"]},"metadata":{},"sourceType":"module"}